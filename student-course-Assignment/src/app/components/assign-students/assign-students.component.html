<section class="assign-page">
	<div class="controls">
			<label>
				Select student
				<select [(ngModel)]="selectedStudentId" (ngModelChange)="onStudentChange($event)">
					<option [ngValue]="null">-- choose student --</option>
					<option *ngFor="let s of students$ | async" [ngValue]="s.id">{{ s.name }} ({{ s.rollNumber }})</option>
				</select>
			</label>

		<app-course-selector
			[courses]="courses"
			[selectedCourseIds]="checkedCourseIds"
			(toggleCourse)="onCourseToggle($event)"
			(assign)="assign()"
		></app-course-selector>
	</div>

		<section class="assigned-list">
			<h3>Assigned students</h3>
			<app-list [headers]="['Student','Courses']" [fields]="['name','coursesDisplay']" [rows]="(assignedRows$ | async) || []">
				<ng-template #actions let-row let-i="index">
					<button (click)="loadForEdit(row)">Update</button>
					<button (click)="unassign(row.id)">Remove</button>
				</ng-template>
			</app-list>
		</section>
</section>
